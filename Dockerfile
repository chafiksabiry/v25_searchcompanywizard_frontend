FROM node:18

WORKDIR /app

COPY package*.json ./


ENV VITE_GOOGLE_API_KEY=AIzaSyCHEKiraViKIrgvloZI-ZBIJqtDMeBuQD0
ENV VITE_GOOGLE_SEARCH_ENGINE_ID=e1abd3780ba01461a
ENV VITE_OPENAI_API_KEY=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
ENV VITE_SUPABASE_URL=https://uvngyzyuwycnmokvzpaa.supabase.co
ENV VITE_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhpbXN3cHhuYXRsZHBzbW5kcWxmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzYyNDYyNjIsImV4cCI6MjA1MTgyMjI2Mn0.gBI2-Vbex1brojL2Izo-FPMOWzs8buzg64oM_8FzBr0
ENV VITE_SUPABASE_URL=https://himswpxnatldpsmndqlf.supabase.co
ENV VITE_API_URL=https://api-companysearchwizard.harx.ai/api
ENV VITE_DEPLOYMENT_MODE=sandbox

ENV VITE_CLOUDINARY_CLOUD_NAME=dyqg8x26j
ENV VITE_CLOUDINARY_API_KEY=981166483223979
ENV VITE_CLOUDINARY_API_SECRET=i3nxRvfOF1jjfLzMHKE8mP4aXVM
ENV VITE_STANDALONE=false
ENV VITE_USER_ID=680a27ffefa3d29d628d0016


ENV VITE_CLOUDINARY_PRESET_FOR_TRAININGS_IMAGES=bf1katla
ENV VITE_CLOUDINARY_PRESET_FOR_TRAININGS_CONTENT=hio38iac

ENV VITE_CLOUDINARY_PRESET_FOR_MOCKCALLS=kuecaxbp

ENV VITE_CLOUDINARY_CLOUD_NAME=dyqg8x26j
ENV VITE_CLOUDINARY_API_KEY=981166483223979
ENV VITE_CLOUDINARY_API_SECRET=i3nxRvfOF1jjfLzMHKE8mP4aXVM
ENV VITE_STANDALONE=false
ENV VITE_USER_ID=680a27ffefa3d29d628d0016

ENV VITE_STANDALONE=true
ENV VITE_USER_ID=680a27ffefa3d29d628d0016

ENV VITE_CLOUDINARY_IMAGE_LIMIT_SIZE_MB=10

ENV VITE_CLOUDINARY_IMAGE_LIMIT_SIZE_BYTE=10485760
ENV VITE_CLOUDINARY_DOCUMENT_LIMIT_SIZE_MB=10
ENV VITE_CLOUDINARY_DOCUMENT_LIMIT_SIZE_BYTE=10485760
ENV VITE_CLOUDINARY_VIDEO_LIMIT_SIZE_MB=100
ENV VITE_CLOUDINARY_VIDEO_LIMIT_SIZE_BYTE=104857600

RUN npm install
RUN npm i --save-dev @types/js-cookie

COPY . .

RUN npm run build --force

RUN npm install -g serve

EXPOSE 5176

CMD ["serve", "-s", "dist", "-l", "5176"]